{
  "presignedS3Url": "http://example.com/presignedS3Url",
  "data": {
    "execution": {
      "executionArn": "arn:aws:states:us-east-1:123456789012:execution:TestSourceIntegrationIngestGranuleStateMachine-MOyI0myKEXzf:7a71f849-57a0-40e7-8fca-5cf796602a07",
      "stateMachineArn": "arn:aws:states:us-east-1:012345678901:stateMachine:test-stack-IngestGranule",
      "name": "89d6efbe-c06e-4625-8997-cd0d212e25fa",
      "status": "FAILED",
      "startDate": "2021-02-26T15:24:09.766Z",
      "stopDate": "2021-02-26T15:24:29.835Z",
      "input": "{\"cumulus_meta\":{\"execution_name\":\"89d6efbe-c06e-4625-8997-cd0d212e25fa\",\"message_source\":\"sfn\",\"queueExecutionLimits\":{\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-backgroundProcessing\":5},\"state_machine\":\"arn:aws:states:us-east-1:012345678901:stateMachine:test-stack-IngestGranule\",\"system_bucket\":\"test-stack-internal\",\"workflow_start_time\":1614353049120,\"queueUrl\":\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-startSF\"},\"exception\":null,\"meta\":{\"buckets\":{\"internal\":{\"name\":\"test-stack-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"test-stack-private\",\"type\":\"private\"},\"protected\":{\"name\":\"test-stack-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-stack-public\",\"type\":\"public\"}},\"cmr\":{\"clientId\":\"cumulus-core-test-stack\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50,\"oauthProvider\":\"earthdata\",\"passwordSecretName\":\"test-stack-message-template-cmr-password20210210202151892300000002\",\"provider\":\"CUMULUS\",\"username\":\"dopeters\"},\"collection\":{},\"distribution_endpoint\":\"https://xjuk3cd81j.execute-api.us-east-1.amazonaws.com/DEV/\",\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphraseSecretName\":\"test-stack-message-template-launchpad-passphrase20210210202152576500000003\"},\"provider\":{},\"stack\":\"test-stack\",\"template\":\"s3://test-stack-internal/test-stack/workflow_template.json\",\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{}},\"payload\":{}}",
      "inputDetails": {
        "included": true
      }
    },
    "executionHistory": {
      "events": [
        {
          "timestamp": "2021-02-26T15:24:09.766Z",
          "type": "ExecutionStarted",
          "id": 1,
          "previousEventId": 0,
          "input": "{\"cumulus_meta\":{\"execution_name\":\"89d6efbe-c06e-4625-8997-cd0d212e25fa\",\"message_source\":\"sfn\",\"queueExecutionLimits\":{\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-backgroundProcessing\":5},\"state_machine\":\"arn:aws:states:us-east-1:012345678901:stateMachine:test-stack-IngestGranule\",\"system_bucket\":\"test-stack-internal\",\"workflow_start_time\":1614353049120,\"queueUrl\":\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-startSF\"},\"exception\":null,\"meta\":{\"buckets\":{\"internal\":{\"name\":\"test-stack-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"test-stack-private\",\"type\":\"private\"},\"protected\":{\"name\":\"test-stack-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-stack-public\",\"type\":\"public\"}},\"cmr\":{\"clientId\":\"cumulus-core-test-stack\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50,\"oauthProvider\":\"earthdata\",\"passwordSecretName\":\"test-stack-message-template-cmr-password20210210202151892300000002\",\"provider\":\"CUMULUS\",\"username\":\"dopeters\"},\"collection\":{},\"distribution_endpoint\":\"https://xjuk3cd81j.execute-api.us-east-1.amazonaws.com/DEV/\",\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphraseSecretName\":\"test-stack-message-template-launchpad-passphrase20210210202152576500000003\"},\"provider\":{},\"stack\":\"test-stack\",\"template\":\"s3://test-stack-internal/test-stack/workflow_template.json\",\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{}},\"payload\":{}}",
          "inputDetails": {
            "truncated": false
          },
          "roleArn": "arn:aws:iam::012345678901:role/test-stack-steprole"
        },
        {
          "timestamp": "2021-02-26T15:24:09.815Z",
          "type": "TaskStateEntered",
          "id": 2,
          "previousEventId": 0,
          "name": "SyncGranule",
          "input": "{\"cumulus_meta\":{\"execution_name\":\"89d6efbe-c06e-4625-8997-cd0d212e25fa\",\"message_source\":\"sfn\",\"queueExecutionLimits\":{\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-backgroundProcessing\":5},\"state_machine\":\"arn:aws:states:us-east-1:012345678901:stateMachine:test-stack-IngestGranule\",\"system_bucket\":\"test-stack-internal\",\"workflow_start_time\":1614353049120,\"queueUrl\":\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-startSF\"},\"exception\":null,\"meta\":{\"buckets\":{\"internal\":{\"name\":\"test-stack-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"test-stack-private\",\"type\":\"private\"},\"protected\":{\"name\":\"test-stack-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-stack-public\",\"type\":\"public\"}},\"cmr\":{\"clientId\":\"cumulus-core-test-stack\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50,\"oauthProvider\":\"earthdata\",\"passwordSecretName\":\"test-stack-message-template-cmr-password20210210202151892300000002\",\"provider\":\"CUMULUS\",\"username\":\"dopeters\"},\"collection\":{},\"distribution_endpoint\":\"https://xjuk3cd81j.execute-api.us-east-1.amazonaws.com/DEV/\",\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphraseSecretName\":\"test-stack-message-template-launchpad-passphrase20210210202152576500000003\"},\"provider\":{},\"stack\":\"test-stack\",\"template\":\"s3://test-stack-internal/test-stack/workflow_template.json\",\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{}},\"payload\":{}}",
          "inputDetails": {
            "truncated": false
          }
        },
        {
          "timestamp": "2021-02-26T15:24:09.815Z",
          "type": "LambdaFunctionScheduled",
          "id": 3,
          "previousEventId": 2,
          "resource": "arn:aws:lambda:us-east-1:012345678901:function:test-stack-SyncGranule",
          "input": "{\"cma\":{\"ReplaceConfig\":{\"Path\":\"$.payload\",\"TargetPath\":\"$.payload\"},\"task_config\":{\"buckets\":\"{$.meta.buckets}\",\"provider\":\"{$.meta.provider}\",\"collection\":\"{$.meta.collection}\",\"stack\":\"{$.meta.stack}\",\"downloadBucket\":\"{$.cumulus_meta.system_bucket}\",\"duplicateHandling\":\"{$.meta.collection.duplicateHandling}\",\"pdr\":\"{$.meta.pdr}\",\"cumulus_message\":{\"input\":\"{$.payload}\",\"outputs\":[{\"source\":\"{$.granules}\",\"destination\":\"{$.meta.input_granules}\"},{\"source\":\"{$}\",\"destination\":\"{$.payload}\"},{\"source\":\"{$.process}\",\"destination\":\"{$.meta.process}\"}]}},\"event\":{\"cumulus_meta\":{\"execution_name\":\"89d6efbe-c06e-4625-8997-cd0d212e25fa\",\"message_source\":\"sfn\",\"queueExecutionLimits\":{\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-backgroundProcessing\":5},\"state_machine\":\"arn:aws:states:us-east-1:012345678901:stateMachine:test-stack-IngestGranule\",\"system_bucket\":\"test-stack-internal\",\"workflow_start_time\":1614353049120,\"queueUrl\":\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-startSF\"},\"exception\":null,\"meta\":{\"buckets\":{\"internal\":{\"name\":\"test-stack-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"test-stack-private\",\"type\":\"private\"},\"protected\":{\"name\":\"test-stack-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-stack-public\",\"type\":\"public\"}},\"cmr\":{\"clientId\":\"cumulus-core-test-stack\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50,\"oauthProvider\":\"earthdata\",\"passwordSecretName\":\"test-stack-message-template-cmr-password20210210202151892300000002\",\"provider\":\"CUMULUS\",\"username\":\"dopeters\"},\"collection\":{},\"distribution_endpoint\":\"https://xjuk3cd81j.execute-api.us-east-1.amazonaws.com/DEV/\",\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphraseSecretName\":\"test-stack-message-template-launchpad-passphrase20210210202152576500000003\"},\"provider\":{},\"stack\":\"test-stack\",\"template\":\"s3://test-stack-internal/test-stack/workflow_template.json\",\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{}},\"payload\":{}}}}",
          "inputDetails": {
            "truncated": false
          }
        },
        {
          "timestamp": "2021-02-26T15:24:09.849Z",
          "type": "LambdaFunctionStarted",
          "id": 4,
          "previousEventId": 3
        },
        {
          "timestamp": "2021-02-26T15:24:13.310Z",
          "type": "LambdaFunctionFailed",
          "id": 5,
          "previousEventId": 4,
          "error": "CumulusMessageAdapterExecutionError",
          "cause": "{\"errorType\":\"CumulusMessageAdapterExecutionError\",\"errorMessage\":\"warning setting command to loadAndUpdateRemoteEvent\\nwarning setting command to loadNestedEvent\\nUnexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\\n\\nFailed validating 'required' in schema:\\n    {'description': 'Describes the input expected by the sync-granule task',\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\n                                                                                             'filename': {'type': 'string'},\\n                                                                                             'name': {'type': 'string'},\\n                                                                                             'path': {'type': 'string'},\\n                                                                                             'type': {'type': 'string'}},\\n                                                                              'required': ['name',\\n                                                                                           'path'],\\n                                                                              'type': 'object'},\\n                                                                    'type': 'array'},\\n                                                          'granuleId': {'type': 'string'},\\n                                                          'version': {'type': 'string'}},\\n                                           'required': ['granuleId',\\n                                                        'files'],\\n                                           'type': 'object'},\\n                                 'type': 'array'}},\\n     'required': ['granules'],\\n     'title': 'SyncGranuleInput',\\n     'type': 'object'}\\n\\nOn instance:\\n    {}\\n\\nFailed validating 'required' in schema:\\n    {'description': 'Describes the input expected by the sync-granule task',\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\n                                                                                             'filename': {'type': 'string'},\\n                                                                                             'name': {'type': 'string'},\\n                                                                                             'path': {'type': 'string'},\\n                                                                                             'type': {'type': 'string'}},\\n                                                                              'required': ['name',\\n                                                                                           'path'],\\n                                                                              'type': 'object'},\\n                                                                    'type': 'array'},\\n                                                          'granuleId': {'type': 'string'},\\n                                                          'version': {'type': 'string'}},\\n                                           'required': ['granuleId',\\n                                                        'files'],\\n                                           'type': 'object'},\\n                                 'type': 'array'}},\\n     'required': ['granules'],\\n     'title': 'SyncGranuleInput',\\n     'type': 'object'}\\n\\nOn instance:\\n    {}\",\"trace\":[\"CumulusMessageAdapterExecutionError: warning setting command to loadAndUpdateRemoteEvent\",\"warning setting command to loadNestedEvent\",\"Unexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\",\"\",\"Failed validating 'required' in schema:\",\"    {'description': 'Describes the input expected by the sync-granule task',\",\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\",\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\",\"                                                                                             'filename': {'type': 'string'},\",\"                                                                                             'name': {'type': 'string'},\",\"                                                                                             'path': {'type': 'string'},\",\"                                                                                             'type': {'type': 'string'}},\",\"                                                                              'required': ['name',\",\"                                                                                           'path'],\",\"                                                                              'type': 'object'},\",\"                                                                    'type': 'array'},\",\"                                                          'granuleId': {'type': 'string'},\",\"                                                          'version': {'type': 'string'}},\",\"                                           'required': ['granuleId',\",\"                                                        'files'],\",\"                                           'type': 'object'},\",\"                                 'type': 'array'}},\",\"     'required': ['granules'],\",\"     'title': 'SyncGranuleInput',\",\"     'type': 'object'}\",\"\",\"On instance:\",\"    {}\",\"\",\"Failed validating 'required' in schema:\",\"    {'description': 'Describes the input expected by the sync-granule task',\",\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\",\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\",\"                                                                                             'filename': {'type': 'string'},\",\"                                                                                             'name': {'type': 'string'},\",\"                                                                                             'path': {'type': 'string'},\",\"                                                                                             'type': {'type': 'string'}},\",\"                                                                              'required': ['name',\",\"                                                                                           'path'],\",\"                                                                              'type': 'object'},\",\"                                                                    'type': 'array'},\",\"                                                          'granuleId': {'type': 'string'},\",\"                                                          'version': {'type': 'string'}},\",\"                                           'required': ['granuleId',\",\"                                                        'files'],\",\"                                           'type': 'object'},\",\"                                 'type': 'array'}},\",\"     'required': ['granules'],\",\"     'title': 'SyncGranuleInput',\",\"     'type': 'object'}\",\"\",\"On instance:\",\"    {}\",\"    at Interface.<anonymous> (/var/task/webpack:/node_modules/@cumulus/cumulus-message-adapter-js/dist/cma.js:154:1)\",\"    at Interface.emit (events.js:326:22)\",\"    at Interface.EventEmitter.emit (domain.js:483:12)\",\"    at Interface.close (readline.js:416:8)\",\"    at Socket.onend (readline.js:194:10)\",\"    at Socket.emit (events.js:326:22)\",\"    at Socket.EventEmitter.emit (domain.js:483:12)\",\"    at endReadableNT (_stream_readable.js:1241:12)\",\"    at processTicksAndRejections (internal/process/task_queues.js:84:21)\"]}"
        },
        {
          "timestamp": "2021-02-26T15:24:15.311Z",
          "type": "LambdaFunctionScheduled",
          "id": 6,
          "previousEventId": 5,
          "resource": "arn:aws:lambda:us-east-1:012345678901:function:test-stack-SyncGranule",
          "input": "{\"cma\":{\"ReplaceConfig\":{\"Path\":\"$.payload\",\"TargetPath\":\"$.payload\"},\"task_config\":{\"buckets\":\"{$.meta.buckets}\",\"provider\":\"{$.meta.provider}\",\"collection\":\"{$.meta.collection}\",\"stack\":\"{$.meta.stack}\",\"downloadBucket\":\"{$.cumulus_meta.system_bucket}\",\"duplicateHandling\":\"{$.meta.collection.duplicateHandling}\",\"pdr\":\"{$.meta.pdr}\",\"cumulus_message\":{\"input\":\"{$.payload}\",\"outputs\":[{\"source\":\"{$.granules}\",\"destination\":\"{$.meta.input_granules}\"},{\"source\":\"{$}\",\"destination\":\"{$.payload}\"},{\"source\":\"{$.process}\",\"destination\":\"{$.meta.process}\"}]}},\"event\":{\"cumulus_meta\":{\"execution_name\":\"89d6efbe-c06e-4625-8997-cd0d212e25fa\",\"message_source\":\"sfn\",\"queueExecutionLimits\":{\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-backgroundProcessing\":5},\"state_machine\":\"arn:aws:states:us-east-1:012345678901:stateMachine:test-stack-IngestGranule\",\"system_bucket\":\"test-stack-internal\",\"workflow_start_time\":1614353049120,\"queueUrl\":\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-startSF\"},\"exception\":null,\"meta\":{\"buckets\":{\"internal\":{\"name\":\"test-stack-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"test-stack-private\",\"type\":\"private\"},\"protected\":{\"name\":\"test-stack-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-stack-public\",\"type\":\"public\"}},\"cmr\":{\"clientId\":\"cumulus-core-test-stack\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50,\"oauthProvider\":\"earthdata\",\"passwordSecretName\":\"test-stack-message-template-cmr-password20210210202151892300000002\",\"provider\":\"CUMULUS\",\"username\":\"dopeters\"},\"collection\":{},\"distribution_endpoint\":\"https://xjuk3cd81j.execute-api.us-east-1.amazonaws.com/DEV/\",\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphraseSecretName\":\"test-stack-message-template-launchpad-passphrase20210210202152576500000003\"},\"provider\":{},\"stack\":\"test-stack\",\"template\":\"s3://test-stack-internal/test-stack/workflow_template.json\",\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{}},\"payload\":{}}}}",
          "inputDetails": {
            "truncated": false
          }
        },
        {
          "timestamp": "2021-02-26T15:24:15.317Z",
          "type": "LambdaFunctionStarted",
          "id": 7,
          "previousEventId": 6
        },
        {
          "timestamp": "2021-02-26T15:24:16.161Z",
          "type": "LambdaFunctionFailed",
          "id": 8,
          "previousEventId": 7,
          "error": "CumulusMessageAdapterExecutionError",
          "cause": "{\"errorType\":\"CumulusMessageAdapterExecutionError\",\"errorMessage\":\"warning setting command to loadAndUpdateRemoteEvent\\nwarning setting command to loadNestedEvent\\nUnexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\\n\\nFailed validating 'required' in schema:\\n    {'description': 'Describes the input expected by the sync-granule task',\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\n                                                                                             'filename': {'type': 'string'},\\n                                                                                             'name': {'type': 'string'},\\n                                                                                             'path': {'type': 'string'},\\n                                                                                             'type': {'type': 'string'}},\\n                                                                              'required': ['name',\\n                                                                                           'path'],\\n                                                                              'type': 'object'},\\n                                                                    'type': 'array'},\\n                                                          'granuleId': {'type': 'string'},\\n                                                          'version': {'type': 'string'}},\\n                                           'required': ['granuleId',\\n                                                        'files'],\\n                                           'type': 'object'},\\n                                 'type': 'array'}},\\n     'required': ['granules'],\\n     'title': 'SyncGranuleInput',\\n     'type': 'object'}\\n\\nOn instance:\\n    {}\\n\\nFailed validating 'required' in schema:\\n    {'description': 'Describes the input expected by the sync-granule task',\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\n                                                                                             'filename': {'type': 'string'},\\n                                                                                             'name': {'type': 'string'},\\n                                                                                             'path': {'type': 'string'},\\n                                                                                             'type': {'type': 'string'}},\\n                                                                              'required': ['name',\\n                                                                                           'path'],\\n                                                                              'type': 'object'},\\n                                                                    'type': 'array'},\\n                                                          'granuleId': {'type': 'string'},\\n                                                          'version': {'type': 'string'}},\\n                                           'required': ['granuleId',\\n                                                        'files'],\\n                                           'type': 'object'},\\n                                 'type': 'array'}},\\n     'required': ['granules'],\\n     'title': 'SyncGranuleInput',\\n     'type': 'object'}\\n\\nOn instance:\\n    {}\",\"trace\":[\"CumulusMessageAdapterExecutionError: warning setting command to loadAndUpdateRemoteEvent\",\"warning setting command to loadNestedEvent\",\"Unexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\",\"\",\"Failed validating 'required' in schema:\",\"    {'description': 'Describes the input expected by the sync-granule task',\",\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\",\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\",\"                                                                                             'filename': {'type': 'string'},\",\"                                                                                             'name': {'type': 'string'},\",\"                                                                                             'path': {'type': 'string'},\",\"                                                                                             'type': {'type': 'string'}},\",\"                                                                              'required': ['name',\",\"                                                                                           'path'],\",\"                                                                              'type': 'object'},\",\"                                                                    'type': 'array'},\",\"                                                          'granuleId': {'type': 'string'},\",\"                                                          'version': {'type': 'string'}},\",\"                                           'required': ['granuleId',\",\"                                                        'files'],\",\"                                           'type': 'object'},\",\"                                 'type': 'array'}},\",\"     'required': ['granules'],\",\"     'title': 'SyncGranuleInput',\",\"     'type': 'object'}\",\"\",\"On instance:\",\"    {}\",\"\",\"Failed validating 'required' in schema:\",\"    {'description': 'Describes the input expected by the sync-granule task',\",\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\",\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\",\"                                                                                             'filename': {'type': 'string'},\",\"                                                                                             'name': {'type': 'string'},\",\"                                                                                             'path': {'type': 'string'},\",\"                                                                                             'type': {'type': 'string'}},\",\"                                                                              'required': ['name',\",\"                                                                                           'path'],\",\"                                                                              'type': 'object'},\",\"                                                                    'type': 'array'},\",\"                                                          'granuleId': {'type': 'string'},\",\"                                                          'version': {'type': 'string'}},\",\"                                           'required': ['granuleId',\",\"                                                        'files'],\",\"                                           'type': 'object'},\",\"                                 'type': 'array'}},\",\"     'required': ['granules'],\",\"     'title': 'SyncGranuleInput',\",\"     'type': 'object'}\",\"\",\"On instance:\",\"    {}\",\"    at Interface.<anonymous> (/var/task/webpack:/node_modules/@cumulus/cumulus-message-adapter-js/dist/cma.js:154:1)\",\"    at Interface.emit (events.js:326:22)\",\"    at Interface.EventEmitter.emit (domain.js:483:12)\",\"    at Interface.close (readline.js:416:8)\",\"    at Socket.onend (readline.js:194:10)\",\"    at Socket.emit (events.js:326:22)\",\"    at Socket.EventEmitter.emit (domain.js:483:12)\",\"    at endReadableNT (_stream_readable.js:1241:12)\",\"    at processTicksAndRejections (internal/process/task_queues.js:84:21)\"]}"
        },
        {
          "timestamp": "2021-02-26T15:24:20.168Z",
          "type": "LambdaFunctionScheduled",
          "id": 9,
          "previousEventId": 8,
          "resource": "arn:aws:lambda:us-east-1:012345678901:function:test-stack-SyncGranule",
          "input": "{\"cma\":{\"ReplaceConfig\":{\"Path\":\"$.payload\",\"TargetPath\":\"$.payload\"},\"task_config\":{\"buckets\":\"{$.meta.buckets}\",\"provider\":\"{$.meta.provider}\",\"collection\":\"{$.meta.collection}\",\"stack\":\"{$.meta.stack}\",\"downloadBucket\":\"{$.cumulus_meta.system_bucket}\",\"duplicateHandling\":\"{$.meta.collection.duplicateHandling}\",\"pdr\":\"{$.meta.pdr}\",\"cumulus_message\":{\"input\":\"{$.payload}\",\"outputs\":[{\"source\":\"{$.granules}\",\"destination\":\"{$.meta.input_granules}\"},{\"source\":\"{$}\",\"destination\":\"{$.payload}\"},{\"source\":\"{$.process}\",\"destination\":\"{$.meta.process}\"}]}},\"event\":{\"cumulus_meta\":{\"execution_name\":\"89d6efbe-c06e-4625-8997-cd0d212e25fa\",\"message_source\":\"sfn\",\"queueExecutionLimits\":{\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-backgroundProcessing\":5},\"state_machine\":\"arn:aws:states:us-east-1:012345678901:stateMachine:test-stack-IngestGranule\",\"system_bucket\":\"test-stack-internal\",\"workflow_start_time\":1614353049120,\"queueUrl\":\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-startSF\"},\"exception\":null,\"meta\":{\"buckets\":{\"internal\":{\"name\":\"test-stack-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"test-stack-private\",\"type\":\"private\"},\"protected\":{\"name\":\"test-stack-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-stack-public\",\"type\":\"public\"}},\"cmr\":{\"clientId\":\"cumulus-core-test-stack\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50,\"oauthProvider\":\"earthdata\",\"passwordSecretName\":\"test-stack-message-template-cmr-password20210210202151892300000002\",\"provider\":\"CUMULUS\",\"username\":\"dopeters\"},\"collection\":{},\"distribution_endpoint\":\"https://xjuk3cd81j.execute-api.us-east-1.amazonaws.com/DEV/\",\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphraseSecretName\":\"test-stack-message-template-launchpad-passphrase20210210202152576500000003\"},\"provider\":{},\"stack\":\"test-stack\",\"template\":\"s3://test-stack-internal/test-stack/workflow_template.json\",\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{}},\"payload\":{}}}}",
          "inputDetails": {
            "truncated": false
          }
        },
        {
          "timestamp": "2021-02-26T15:24:20.175Z",
          "type": "LambdaFunctionStarted",
          "id": 10,
          "previousEventId": 9
        },
        {
          "timestamp": "2021-02-26T15:24:20.966Z",
          "type": "LambdaFunctionFailed",
          "id": 11,
          "previousEventId": 10,
          "error": "CumulusMessageAdapterExecutionError",
          "cause": "{\"errorType\":\"CumulusMessageAdapterExecutionError\",\"errorMessage\":\"warning setting command to loadAndUpdateRemoteEvent\\nwarning setting command to loadNestedEvent\\nUnexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\\n\\nFailed validating 'required' in schema:\\n    {'description': 'Describes the input expected by the sync-granule task',\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\n                                                                                             'filename': {'type': 'string'},\\n                                                                                             'name': {'type': 'string'},\\n                                                                                             'path': {'type': 'string'},\\n                                                                                             'type': {'type': 'string'}},\\n                                                                              'required': ['name',\\n                                                                                           'path'],\\n                                                                              'type': 'object'},\\n                                                                    'type': 'array'},\\n                                                          'granuleId': {'type': 'string'},\\n                                                          'version': {'type': 'string'}},\\n                                           'required': ['granuleId',\\n                                                        'files'],\\n                                           'type': 'object'},\\n                                 'type': 'array'}},\\n     'required': ['granules'],\\n     'title': 'SyncGranuleInput',\\n     'type': 'object'}\\n\\nOn instance:\\n    {}\\n\\nFailed validating 'required' in schema:\\n    {'description': 'Describes the input expected by the sync-granule task',\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\n                                                                                             'filename': {'type': 'string'},\\n                                                                                             'name': {'type': 'string'},\\n                                                                                             'path': {'type': 'string'},\\n                                                                                             'type': {'type': 'string'}},\\n                                                                              'required': ['name',\\n                                                                                           'path'],\\n                                                                              'type': 'object'},\\n                                                                    'type': 'array'},\\n                                                          'granuleId': {'type': 'string'},\\n                                                          'version': {'type': 'string'}},\\n                                           'required': ['granuleId',\\n                                                        'files'],\\n                                           'type': 'object'},\\n                                 'type': 'array'}},\\n     'required': ['granules'],\\n     'title': 'SyncGranuleInput',\\n     'type': 'object'}\\n\\nOn instance:\\n    {}\",\"trace\":[\"CumulusMessageAdapterExecutionError: warning setting command to loadAndUpdateRemoteEvent\",\"warning setting command to loadNestedEvent\",\"Unexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\",\"\",\"Failed validating 'required' in schema:\",\"    {'description': 'Describes the input expected by the sync-granule task',\",\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\",\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\",\"                                                                                             'filename': {'type': 'string'},\",\"                                                                                             'name': {'type': 'string'},\",\"                                                                                             'path': {'type': 'string'},\",\"                                                                                             'type': {'type': 'string'}},\",\"                                                                              'required': ['name',\",\"                                                                                           'path'],\",\"                                                                              'type': 'object'},\",\"                                                                    'type': 'array'},\",\"                                                          'granuleId': {'type': 'string'},\",\"                                                          'version': {'type': 'string'}},\",\"                                           'required': ['granuleId',\",\"                                                        'files'],\",\"                                           'type': 'object'},\",\"                                 'type': 'array'}},\",\"     'required': ['granules'],\",\"     'title': 'SyncGranuleInput',\",\"     'type': 'object'}\",\"\",\"On instance:\",\"    {}\",\"\",\"Failed validating 'required' in schema:\",\"    {'description': 'Describes the input expected by the sync-granule task',\",\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\",\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\",\"                                                                                             'filename': {'type': 'string'},\",\"                                                                                             'name': {'type': 'string'},\",\"                                                                                             'path': {'type': 'string'},\",\"                                                                                             'type': {'type': 'string'}},\",\"                                                                              'required': ['name',\",\"                                                                                           'path'],\",\"                                                                              'type': 'object'},\",\"                                                                    'type': 'array'},\",\"                                                          'granuleId': {'type': 'string'},\",\"                                                          'version': {'type': 'string'}},\",\"                                           'required': ['granuleId',\",\"                                                        'files'],\",\"                                           'type': 'object'},\",\"                                 'type': 'array'}},\",\"     'required': ['granules'],\",\"     'title': 'SyncGranuleInput',\",\"     'type': 'object'}\",\"\",\"On instance:\",\"    {}\",\"    at Interface.<anonymous> (/var/task/webpack:/node_modules/@cumulus/cumulus-message-adapter-js/dist/cma.js:154:1)\",\"    at Interface.emit (events.js:326:22)\",\"    at Interface.EventEmitter.emit (domain.js:483:12)\",\"    at Interface.close (readline.js:416:8)\",\"    at Socket.onend (readline.js:194:10)\",\"    at Socket.emit (events.js:326:22)\",\"    at Socket.EventEmitter.emit (domain.js:483:12)\",\"    at endReadableNT (_stream_readable.js:1241:12)\",\"    at processTicksAndRejections (internal/process/task_queues.js:84:21)\"]}"
        },
        {
          "timestamp": "2021-02-26T15:24:28.966Z",
          "type": "LambdaFunctionScheduled",
          "id": 12,
          "previousEventId": 11,
          "resource": "arn:aws:lambda:us-east-1:012345678901:function:test-stack-SyncGranule",
          "input": "{\"cma\":{\"ReplaceConfig\":{\"Path\":\"$.payload\",\"TargetPath\":\"$.payload\"},\"task_config\":{\"buckets\":\"{$.meta.buckets}\",\"provider\":\"{$.meta.provider}\",\"collection\":\"{$.meta.collection}\",\"stack\":\"{$.meta.stack}\",\"downloadBucket\":\"{$.cumulus_meta.system_bucket}\",\"duplicateHandling\":\"{$.meta.collection.duplicateHandling}\",\"pdr\":\"{$.meta.pdr}\",\"cumulus_message\":{\"input\":\"{$.payload}\",\"outputs\":[{\"source\":\"{$.granules}\",\"destination\":\"{$.meta.input_granules}\"},{\"source\":\"{$}\",\"destination\":\"{$.payload}\"},{\"source\":\"{$.process}\",\"destination\":\"{$.meta.process}\"}]}},\"event\":{\"cumulus_meta\":{\"execution_name\":\"89d6efbe-c06e-4625-8997-cd0d212e25fa\",\"message_source\":\"sfn\",\"queueExecutionLimits\":{\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-backgroundProcessing\":5},\"state_machine\":\"arn:aws:states:us-east-1:012345678901:stateMachine:test-stack-IngestGranule\",\"system_bucket\":\"test-stack-internal\",\"workflow_start_time\":1614353049120,\"queueUrl\":\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-startSF\"},\"exception\":null,\"meta\":{\"buckets\":{\"internal\":{\"name\":\"test-stack-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"test-stack-private\",\"type\":\"private\"},\"protected\":{\"name\":\"test-stack-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-stack-public\",\"type\":\"public\"}},\"cmr\":{\"clientId\":\"cumulus-core-test-stack\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50,\"oauthProvider\":\"earthdata\",\"passwordSecretName\":\"test-stack-message-template-cmr-password20210210202151892300000002\",\"provider\":\"CUMULUS\",\"username\":\"dopeters\"},\"collection\":{},\"distribution_endpoint\":\"https://xjuk3cd81j.execute-api.us-east-1.amazonaws.com/DEV/\",\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphraseSecretName\":\"test-stack-message-template-launchpad-passphrase20210210202152576500000003\"},\"provider\":{},\"stack\":\"test-stack\",\"template\":\"s3://test-stack-internal/test-stack/workflow_template.json\",\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{}},\"payload\":{}}}}",
          "inputDetails": {
            "truncated": false
          }
        },
        {
          "timestamp": "2021-02-26T15:24:28.972Z",
          "type": "LambdaFunctionStarted",
          "id": 13,
          "previousEventId": 12
        },
        {
          "timestamp": "2021-02-26T15:24:29.827Z",
          "type": "LambdaFunctionFailed",
          "id": 14,
          "previousEventId": 13,
          "error": "CumulusMessageAdapterExecutionError",
          "cause": "{\"errorType\":\"CumulusMessageAdapterExecutionError\",\"errorMessage\":\"warning setting command to loadAndUpdateRemoteEvent\\nwarning setting command to loadNestedEvent\\nUnexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\\n\\nFailed validating 'required' in schema:\\n    {'description': 'Describes the input expected by the sync-granule task',\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\n                                                                                             'filename': {'type': 'string'},\\n                                                                                             'name': {'type': 'string'},\\n                                                                                             'path': {'type': 'string'},\\n                                                                                             'type': {'type': 'string'}},\\n                                                                              'required': ['name',\\n                                                                                           'path'],\\n                                                                              'type': 'object'},\\n                                                                    'type': 'array'},\\n                                                          'granuleId': {'type': 'string'},\\n                                                          'version': {'type': 'string'}},\\n                                           'required': ['granuleId',\\n                                                        'files'],\\n                                           'type': 'object'},\\n                                 'type': 'array'}},\\n     'required': ['granules'],\\n     'title': 'SyncGranuleInput',\\n     'type': 'object'}\\n\\nOn instance:\\n    {}\\n\\nFailed validating 'required' in schema:\\n    {'description': 'Describes the input expected by the sync-granule task',\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\n                                                                                             'filename': {'type': 'string'},\\n                                                                                             'name': {'type': 'string'},\\n                                                                                             'path': {'type': 'string'},\\n                                                                                             'type': {'type': 'string'}},\\n                                                                              'required': ['name',\\n                                                                                           'path'],\\n                                                                              'type': 'object'},\\n                                                                    'type': 'array'},\\n                                                          'granuleId': {'type': 'string'},\\n                                                          'version': {'type': 'string'}},\\n                                           'required': ['granuleId',\\n                                                        'files'],\\n                                           'type': 'object'},\\n                                 'type': 'array'}},\\n     'required': ['granules'],\\n     'title': 'SyncGranuleInput',\\n     'type': 'object'}\\n\\nOn instance:\\n    {}\",\"trace\":[\"CumulusMessageAdapterExecutionError: warning setting command to loadAndUpdateRemoteEvent\",\"warning setting command to loadNestedEvent\",\"Unexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\",\"\",\"Failed validating 'required' in schema:\",\"    {'description': 'Describes the input expected by the sync-granule task',\",\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\",\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\",\"                                                                                             'filename': {'type': 'string'},\",\"                                                                                             'name': {'type': 'string'},\",\"                                                                                             'path': {'type': 'string'},\",\"                                                                                             'type': {'type': 'string'}},\",\"                                                                              'required': ['name',\",\"                                                                                           'path'],\",\"                                                                              'type': 'object'},\",\"                                                                    'type': 'array'},\",\"                                                          'granuleId': {'type': 'string'},\",\"                                                          'version': {'type': 'string'}},\",\"                                           'required': ['granuleId',\",\"                                                        'files'],\",\"                                           'type': 'object'},\",\"                                 'type': 'array'}},\",\"     'required': ['granules'],\",\"     'title': 'SyncGranuleInput',\",\"     'type': 'object'}\",\"\",\"On instance:\",\"    {}\",\"\",\"Failed validating 'required' in schema:\",\"    {'description': 'Describes the input expected by the sync-granule task',\",\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\",\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\",\"                                                                                             'filename': {'type': 'string'},\",\"                                                                                             'name': {'type': 'string'},\",\"                                                                                             'path': {'type': 'string'},\",\"                                                                                             'type': {'type': 'string'}},\",\"                                                                              'required': ['name',\",\"                                                                                           'path'],\",\"                                                                              'type': 'object'},\",\"                                                                    'type': 'array'},\",\"                                                          'granuleId': {'type': 'string'},\",\"                                                          'version': {'type': 'string'}},\",\"                                           'required': ['granuleId',\",\"                                                        'files'],\",\"                                           'type': 'object'},\",\"                                 'type': 'array'}},\",\"     'required': ['granules'],\",\"     'title': 'SyncGranuleInput',\",\"     'type': 'object'}\",\"\",\"On instance:\",\"    {}\",\"    at Interface.<anonymous> (/var/task/webpack:/node_modules/@cumulus/cumulus-message-adapter-js/dist/cma.js:154:1)\",\"    at Interface.emit (events.js:326:22)\",\"    at Interface.EventEmitter.emit (domain.js:483:12)\",\"    at Interface.close (readline.js:416:8)\",\"    at Socket.onend (readline.js:194:10)\",\"    at Socket.emit (events.js:326:22)\",\"    at Socket.EventEmitter.emit (domain.js:483:12)\",\"    at endReadableNT (_stream_readable.js:1241:12)\",\"    at processTicksAndRejections (internal/process/task_queues.js:84:21)\"]}"
        },
        {
          "timestamp": "2021-02-26T15:24:29.827Z",
          "type": "TaskStateExited",
          "id": 15,
          "previousEventId": 14,
          "name": "SyncGranule",
          "output": "{\"cumulus_meta\":{\"execution_name\":\"89d6efbe-c06e-4625-8997-cd0d212e25fa\",\"message_source\":\"sfn\",\"queueExecutionLimits\":{\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-backgroundProcessing\":5},\"state_machine\":\"arn:aws:states:us-east-1:012345678901:stateMachine:test-stack-IngestGranule\",\"system_bucket\":\"test-stack-internal\",\"workflow_start_time\":1614353049120,\"queueUrl\":\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-startSF\"},\"exception\":{\"Error\":\"CumulusMessageAdapterExecutionError\",\"Cause\":\"{\\\"errorType\\\":\\\"CumulusMessageAdapterExecutionError\\\",\\\"errorMessage\\\":\\\"warning setting command to loadAndUpdateRemoteEvent\\\\nwarning setting command to loadNestedEvent\\\\nUnexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\\\\n\\\\nFailed validating 'required' in schema:\\\\n    {'description': 'Describes the input expected by the sync-granule task',\\\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\\\n                                                                                             'filename': {'type': 'string'},\\\\n                                                                                             'name': {'type': 'string'},\\\\n                                                                                             'path': {'type': 'string'},\\\\n                                                                                             'type': {'type': 'string'}},\\\\n                                                                              'required': ['name',\\\\n                                                                                           'path'],\\\\n                                                                              'type': 'object'},\\\\n                                                                    'type': 'array'},\\\\n                                                          'granuleId': {'type': 'string'},\\\\n                                                          'version': {'type': 'string'}},\\\\n                                           'required': ['granuleId',\\\\n                                                        'files'],\\\\n                                           'type': 'object'},\\\\n                                 'type': 'array'}},\\\\n     'required': ['granules'],\\\\n     'title': 'SyncGranuleInput',\\\\n     'type': 'object'}\\\\n\\\\nOn instance:\\\\n    {}\\\\n\\\\nFailed validating 'required' in schema:\\\\n    {'description': 'Describes the input expected by the sync-granule task',\\\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\\\n                                                                                             'filename': {'type': 'string'},\\\\n                                                                                             'name': {'type': 'string'},\\\\n                                                                                             'path': {'type': 'string'},\\\\n                                                                                             'type': {'type': 'string'}},\\\\n                                                                              'required': ['name',\\\\n                                                                                           'path'],\\\\n                                                                              'type': 'object'},\\\\n                                                                    'type': 'array'},\\\\n                                                          'granuleId': {'type': 'string'},\\\\n                                                          'version': {'type': 'string'}},\\\\n                                           'required': ['granuleId',\\\\n                                                        'files'],\\\\n                                           'type': 'object'},\\\\n                                 'type': 'array'}},\\\\n     'required': ['granules'],\\\\n     'title': 'SyncGranuleInput',\\\\n     'type': 'object'}\\\\n\\\\nOn instance:\\\\n    {}\\\",\\\"trace\\\":[\\\"CumulusMessageAdapterExecutionError: warning setting command to loadAndUpdateRemoteEvent\\\",\\\"warning setting command to loadNestedEvent\\\",\\\"Unexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\\\",\\\"\\\",\\\"Failed validating 'required' in schema:\\\",\\\"    {'description': 'Describes the input expected by the sync-granule task',\\\",\\\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\\",\\\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\\",\\\"                                                                                             'filename': {'type': 'string'},\\\",\\\"                                                                                             'name': {'type': 'string'},\\\",\\\"                                                                                             'path': {'type': 'string'},\\\",\\\"                                                                                             'type': {'type': 'string'}},\\\",\\\"                                                                              'required': ['name',\\\",\\\"                                                                                           'path'],\\\",\\\"                                                                              'type': 'object'},\\\",\\\"                                                                    'type': 'array'},\\\",\\\"                                                          'granuleId': {'type': 'string'},\\\",\\\"                                                          'version': {'type': 'string'}},\\\",\\\"                                           'required': ['granuleId',\\\",\\\"                                                        'files'],\\\",\\\"                                           'type': 'object'},\\\",\\\"                                 'type': 'array'}},\\\",\\\"     'required': ['granules'],\\\",\\\"     'title': 'SyncGranuleInput',\\\",\\\"     'type': 'object'}\\\",\\\"\\\",\\\"On instance:\\\",\\\"    {}\\\",\\\"\\\",\\\"Failed validating 'required' in schema:\\\",\\\"    {'description': 'Describes the input expected by the sync-granule task',\\\",\\\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\\",\\\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\\",\\\"                                                                                             'filename': {'type': 'string'},\\\",\\\"                                                                                             'name': {'type': 'string'},\\\",\\\"                                                                                             'path': {'type': 'string'},\\\",\\\"                                                                                             'type': {'type': 'string'}},\\\",\\\"                                                                              'required': ['name',\\\",\\\"                                                                                           'path'],\\\",\\\"                                                                              'type': 'object'},\\\",\\\"                                                                    'type': 'array'},\\\",\\\"                                                          'granuleId': {'type': 'string'},\\\",\\\"                                                          'version': {'type': 'string'}},\\\",\\\"                                           'required': ['granuleId',\\\",\\\"                                                        'files'],\\\",\\\"                                           'type': 'object'},\\\",\\\"                                 'type': 'array'}},\\\",\\\"     'required': ['granules'],\\\",\\\"     'title': 'SyncGranuleInput',\\\",\\\"     'type': 'object'}\\\",\\\"\\\",\\\"On instance:\\\",\\\"    {}\\\",\\\"    at Interface.<anonymous> (/var/task/webpack:/node_modules/@cumulus/cumulus-message-adapter-js/dist/cma.js:154:1)\\\",\\\"    at Interface.emit (events.js:326:22)\\\",\\\"    at Interface.EventEmitter.emit (domain.js:483:12)\\\",\\\"    at Interface.close (readline.js:416:8)\\\",\\\"    at Socket.onend (readline.js:194:10)\\\",\\\"    at Socket.emit (events.js:326:22)\\\",\\\"    at Socket.EventEmitter.emit (domain.js:483:12)\\\",\\\"    at endReadableNT (_stream_readable.js:1241:12)\\\",\\\"    at processTicksAndRejections (internal/process/task_queues.js:84:21)\\\"]}\"},\"meta\":{\"buckets\":{\"internal\":{\"name\":\"test-stack-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"test-stack-private\",\"type\":\"private\"},\"protected\":{\"name\":\"test-stack-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-stack-public\",\"type\":\"public\"}},\"cmr\":{\"clientId\":\"cumulus-core-test-stack\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50,\"oauthProvider\":\"earthdata\",\"passwordSecretName\":\"test-stack-message-template-cmr-password20210210202151892300000002\",\"provider\":\"CUMULUS\",\"username\":\"dopeters\"},\"collection\":{},\"distribution_endpoint\":\"https://xjuk3cd81j.execute-api.us-east-1.amazonaws.com/DEV/\",\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphraseSecretName\":\"test-stack-message-template-launchpad-passphrase20210210202152576500000003\"},\"provider\":{},\"stack\":\"test-stack\",\"template\":\"s3://test-stack-internal/test-stack/workflow_template.json\",\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{}},\"payload\":{}}",
          "outputDetails": {
            "truncated": false
          }
        },
        {
          "timestamp": "2021-02-26T15:24:29.835Z",
          "type": "FailStateEntered",
          "id": 16,
          "previousEventId": 15,
          "name": "WorkflowFailed",
          "input": "{\"cumulus_meta\":{\"execution_name\":\"89d6efbe-c06e-4625-8997-cd0d212e25fa\",\"message_source\":\"sfn\",\"queueExecutionLimits\":{\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-backgroundProcessing\":5},\"state_machine\":\"arn:aws:states:us-east-1:012345678901:stateMachine:test-stack-IngestGranule\",\"system_bucket\":\"test-stack-internal\",\"workflow_start_time\":1614353049120,\"queueUrl\":\"https://sqs.us-east-1.amazonaws.com/012345678901/test-stack-startSF\"},\"exception\":{\"Error\":\"CumulusMessageAdapterExecutionError\",\"Cause\":\"{\\\"errorType\\\":\\\"CumulusMessageAdapterExecutionError\\\",\\\"errorMessage\\\":\\\"warning setting command to loadAndUpdateRemoteEvent\\\\nwarning setting command to loadNestedEvent\\\\nUnexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\\\\n\\\\nFailed validating 'required' in schema:\\\\n    {'description': 'Describes the input expected by the sync-granule task',\\\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\\\n                                                                                             'filename': {'type': 'string'},\\\\n                                                                                             'name': {'type': 'string'},\\\\n                                                                                             'path': {'type': 'string'},\\\\n                                                                                             'type': {'type': 'string'}},\\\\n                                                                              'required': ['name',\\\\n                                                                                           'path'],\\\\n                                                                              'type': 'object'},\\\\n                                                                    'type': 'array'},\\\\n                                                          'granuleId': {'type': 'string'},\\\\n                                                          'version': {'type': 'string'}},\\\\n                                           'required': ['granuleId',\\\\n                                                        'files'],\\\\n                                           'type': 'object'},\\\\n                                 'type': 'array'}},\\\\n     'required': ['granules'],\\\\n     'title': 'SyncGranuleInput',\\\\n     'type': 'object'}\\\\n\\\\nOn instance:\\\\n    {}\\\\n\\\\nFailed validating 'required' in schema:\\\\n    {'description': 'Describes the input expected by the sync-granule task',\\\\n     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\\\n                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\\\n                                                                                             'filename': {'type': 'string'},\\\\n                                                                                             'name': {'type': 'string'},\\\\n                                                                                             'path': {'type': 'string'},\\\\n                                                                                             'type': {'type': 'string'}},\\\\n                                                                              'required': ['name',\\\\n                                                                                           'path'],\\\\n                                                                              'type': 'object'},\\\\n                                                                    'type': 'array'},\\\\n                                                          'granuleId': {'type': 'string'},\\\\n                                                          'version': {'type': 'string'}},\\\\n                                           'required': ['granuleId',\\\\n                                                        'files'],\\\\n                                           'type': 'object'},\\\\n                                 'type': 'array'}},\\\\n     'required': ['granules'],\\\\n     'title': 'SyncGranuleInput',\\\\n     'type': 'object'}\\\\n\\\\nOn instance:\\\\n    {}\\\",\\\"trace\\\":[\\\"CumulusMessageAdapterExecutionError: warning setting command to loadAndUpdateRemoteEvent\\\",\\\"warning setting command to loadNestedEvent\\\",\\\"Unexpected Error <class 'jsonschema.exceptions.ValidationError'>. input schema: 'granules' is a required property\\\",\\\"\\\",\\\"Failed validating 'required' in schema:\\\",\\\"    {'description': 'Describes the input expected by the sync-granule task',\\\",\\\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\\",\\\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\\",\\\"                                                                                             'filename': {'type': 'string'},\\\",\\\"                                                                                             'name': {'type': 'string'},\\\",\\\"                                                                                             'path': {'type': 'string'},\\\",\\\"                                                                                             'type': {'type': 'string'}},\\\",\\\"                                                                              'required': ['name',\\\",\\\"                                                                                           'path'],\\\",\\\"                                                                              'type': 'object'},\\\",\\\"                                                                    'type': 'array'},\\\",\\\"                                                          'granuleId': {'type': 'string'},\\\",\\\"                                                          'version': {'type': 'string'}},\\\",\\\"                                           'required': ['granuleId',\\\",\\\"                                                        'files'],\\\",\\\"                                           'type': 'object'},\\\",\\\"                                 'type': 'array'}},\\\",\\\"     'required': ['granules'],\\\",\\\"     'title': 'SyncGranuleInput',\\\",\\\"     'type': 'object'}\\\",\\\"\\\",\\\"On instance:\\\",\\\"    {}\\\",\\\"\\\",\\\"Failed validating 'required' in schema:\\\",\\\"    {'description': 'Describes the input expected by the sync-granule task',\\\",\\\"     'properties': {'granules': {'items': {'properties': {'dataType': {'type': 'string'},\\\",\\\"                                                          'files': {'items': {'properties': {'bucket': {'type': 'string'},\\\",\\\"                                                                                             'filename': {'type': 'string'},\\\",\\\"                                                                                             'name': {'type': 'string'},\\\",\\\"                                                                                             'path': {'type': 'string'},\\\",\\\"                                                                                             'type': {'type': 'string'}},\\\",\\\"                                                                              'required': ['name',\\\",\\\"                                                                                           'path'],\\\",\\\"                                                                              'type': 'object'},\\\",\\\"                                                                    'type': 'array'},\\\",\\\"                                                          'granuleId': {'type': 'string'},\\\",\\\"                                                          'version': {'type': 'string'}},\\\",\\\"                                           'required': ['granuleId',\\\",\\\"                                                        'files'],\\\",\\\"                                           'type': 'object'},\\\",\\\"                                 'type': 'array'}},\\\",\\\"     'required': ['granules'],\\\",\\\"     'title': 'SyncGranuleInput',\\\",\\\"     'type': 'object'}\\\",\\\"\\\",\\\"On instance:\\\",\\\"    {}\\\",\\\"    at Interface.<anonymous> (/var/task/webpack:/node_modules/@cumulus/cumulus-message-adapter-js/dist/cma.js:154:1)\\\",\\\"    at Interface.emit (events.js:326:22)\\\",\\\"    at Interface.EventEmitter.emit (domain.js:483:12)\\\",\\\"    at Interface.close (readline.js:416:8)\\\",\\\"    at Socket.onend (readline.js:194:10)\\\",\\\"    at Socket.emit (events.js:326:22)\\\",\\\"    at Socket.EventEmitter.emit (domain.js:483:12)\\\",\\\"    at endReadableNT (_stream_readable.js:1241:12)\\\",\\\"    at processTicksAndRejections (internal/process/task_queues.js:84:21)\\\"]}\"},\"meta\":{\"buckets\":{\"internal\":{\"name\":\"test-stack-internal\",\"type\":\"internal\"},\"private\":{\"name\":\"test-stack-private\",\"type\":\"private\"},\"protected\":{\"name\":\"test-stack-protected\",\"type\":\"protected\"},\"public\":{\"name\":\"test-stack-public\",\"type\":\"public\"}},\"cmr\":{\"clientId\":\"cumulus-core-test-stack\",\"cmrEnvironment\":\"UAT\",\"cmrLimit\":100,\"cmrPageSize\":50,\"oauthProvider\":\"earthdata\",\"passwordSecretName\":\"test-stack-message-template-cmr-password20210210202151892300000002\",\"provider\":\"CUMULUS\",\"username\":\"dopeters\"},\"collection\":{},\"distribution_endpoint\":\"https://xjuk3cd81j.execute-api.us-east-1.amazonaws.com/DEV/\",\"launchpad\":{\"api\":\"launchpadApi\",\"certificate\":\"launchpad.pfx\",\"passphraseSecretName\":\"test-stack-message-template-launchpad-passphrase20210210202152576500000003\"},\"provider\":{},\"stack\":\"test-stack\",\"template\":\"s3://test-stack-internal/test-stack/workflow_template.json\",\"workflow_name\":\"IngestGranule\",\"workflow_tasks\":{}},\"payload\":{}}",
          "inputDetails": {
            "truncated": false
          }
        },
        {
          "timestamp": "2021-02-26T15:24:29.835Z",
          "type": "ExecutionFailed",
          "id": 17,
          "previousEventId": 16,
          "cause": "Workflow failed"
        }
      ]
    },
    "stateMachine": {
      "stateMachineArn": "arn:aws:states:us-east-1:012345678901:stateMachine:test-stack-IngestGranule",
      "name": "test-stack-IngestGranule",
      "status": "ACTIVE",
      "definition": "{\n  \"Comment\": \"Ingest Granule\",\n  \"StartAt\": \"SyncGranule\",\n  \"States\": {\n    \"SyncGranule\": {\n      \"Parameters\": {\n        \"cma\": {\n          \"event.$\": \"$\",\n          \"ReplaceConfig\": {\n            \"Path\": \"$.payload\",\n            \"TargetPath\": \"$.payload\"\n          },\n          \"task_config\": {\n            \"buckets\": \"{$.meta.buckets}\",\n            \"provider\": \"{$.meta.provider}\",\n            \"collection\": \"{$.meta.collection}\",\n            \"stack\": \"{$.meta.stack}\",\n            \"downloadBucket\": \"{$.cumulus_meta.system_bucket}\",\n            \"duplicateHandling\": \"{$.meta.collection.duplicateHandling}\",\n            \"pdr\": \"{$.meta.pdr}\",\n            \"cumulus_message\": {\n              \"input\": \"{$.payload}\",\n              \"outputs\": [\n                {\n                  \"source\": \"{$.granules}\",\n                  \"destination\": \"{$.meta.input_granules}\"\n                },\n                {\n                  \"source\": \"{$}\",\n                  \"destination\": \"{$.payload}\"\n                },\n                {\n                  \"source\": \"{$.process}\",\n                  \"destination\": \"{$.meta.process}\"\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"Type\": \"Task\",\n      \"Resource\": \"arn:aws:lambda:us-east-1:012345678901:function:test-stack-SyncGranule\",\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"States.ALL\"\n          ],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.ALL\"\n          ],\n          \"ResultPath\": \"$.exception\",\n          \"Next\": \"WorkflowFailed\"\n        }\n      ],\n      \"Next\": \"ChooseProcess\"\n    },\n    \"ChooseProcess\": {\n      \"Type\": \"Choice\",\n      \"Choices\": [\n        {\n          \"Variable\": \"$.meta.process\",\n          \"StringEquals\": \"modis\",\n          \"Next\": \"ProcessingStep\"\n        }\n      ],\n      \"Default\": \"WorkflowSucceeded\"\n    },\n    \"ProcessingStep\": {\n      \"Parameters\": {\n        \"cma\": {\n          \"event.$\": \"$\",\n          \"task_config\": {\n            \"bucket\": \"{$.meta.buckets.internal.name}\",\n            \"collection\": \"{$.meta.collection}\",\n            \"cumulus_message\": {\n              \"outputs\": [\n                {\n                  \"source\": \"{$.files}\",\n                  \"destination\": \"{$.payload}\"\n                }\n              ]\n            }\n          }\n        }\n      },\n      \"Type\": \"Task\",\n      \"Resource\": \"arn:aws:lambda:us-east-1:012345678901:function:test-stack-FakeProcessing\",\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.ALL\"\n          ],\n          \"ResultPath\": \"$.exception\",\n          \"Next\": \"WorkflowFailed\"\n        }\n      ],\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"States.ALL\"\n          ],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 3\n        }\n      ],\n      \"Next\": \"FilesToGranulesStep\"\n    },\n    \"FilesToGranulesStep\": {\n      \"Parameters\": {\n        \"cma\": {\n          \"event.$\": \"$\",\n          \"task_config\": {\n            \"inputGranules\": \"{$.meta.input_granules}\",\n            \"granuleIdExtraction\": \"{$.meta.collection.granuleIdExtraction}\"\n          }\n        }\n      },\n      \"Type\": \"Task\",\n      \"Resource\": \"arn:aws:lambda:us-east-1:012345678901:function:test-stack-FilesToGranules\",\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"Lambda.ServiceException\",\n            \"Lambda.AWSLambdaException\",\n            \"Lambda.SdkClientException\"\n          ],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 6,\n          \"BackoffRate\": 2\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.ALL\"\n          ],\n          \"ResultPath\": \"$.exception\",\n          \"Next\": \"WorkflowFailed\"\n        }\n      ],\n      \"Next\": \"MoveGranuleStep\"\n    },\n    \"MoveGranuleStep\": {\n      \"Parameters\": {\n        \"cma\": {\n          \"event.$\": \"$\",\n          \"task_config\": {\n            \"bucket\": \"{$.meta.buckets.internal.name}\",\n            \"buckets\": \"{$.meta.buckets}\",\n            \"distribution_endpoint\": \"{$.meta.distribution_endpoint}\",\n            \"collection\": \"{$.meta.collection}\",\n            \"duplicateHandling\": \"{$.meta.collection.duplicateHandling}\"\n          }\n        }\n      },\n      \"Type\": \"Task\",\n      \"Resource\": \"arn:aws:lambda:us-east-1:012345678901:function:test-stack-MoveGranules\",\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"Lambda.ServiceException\",\n            \"Lambda.AWSLambdaException\",\n            \"Lambda.SdkClientException\"\n          ],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 6,\n          \"BackoffRate\": 2\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.ALL\"\n          ],\n          \"ResultPath\": \"$.exception\",\n          \"Next\": \"WorkflowFailed\"\n        }\n      ],\n      \"Next\": \"UpdateGranulesCmrMetadataFileLinksStep\"\n    },\n    \"UpdateGranulesCmrMetadataFileLinksStep\": {\n      \"Parameters\": {\n        \"cma\": {\n          \"event.$\": \"$\",\n          \"task_config\": {\n            \"buckets\": \"{$.meta.buckets}\",\n            \"distribution_endpoint\": \"{$.meta.distribution_endpoint}\"\n          }\n        }\n      },\n      \"Type\": \"Task\",\n      \"Resource\": \"arn:aws:lambda:us-east-1:012345678901:function:test-stack-UpdateGranulesCmrMetadataFileLinks\",\n      \"Next\": \"WorkflowSucceeded\",\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"Lambda.ServiceException\",\n            \"Lambda.AWSLambdaException\",\n            \"Lambda.SdkClientException\"\n          ],\n          \"IntervalSeconds\": 2,\n          \"MaxAttempts\": 6,\n          \"BackoffRate\": 2\n        }\n      ]\n    },\n    \"WorkflowFailed\": {\n      \"Type\": \"Fail\",\n      \"Cause\": \"Workflow failed\"\n    },\n    \"WorkflowSucceeded\": {\n      \"Type\": \"Succeed\"\n    }\n  }\n}\n",
      "roleArn": "arn:aws:iam::012345678901:role/test-stack-steprole",
      "type": "STANDARD",
      "creationDate": "2021-02-12T21:37:55.564Z",
      "loggingConfiguration": {
        "level": "OFF",
        "includeExecutionData": false
      },
      "tracingConfiguration": {
        "enabled": false
      }
    }
  },
  "searchString": null,
  "inflight": false,
  "error": false,
  "meta": {}
}