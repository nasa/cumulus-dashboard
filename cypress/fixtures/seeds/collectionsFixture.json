{
  "meta": {
    "name": "cumulus-api",
    "stack": "test-src-integration",
    "table": "collection",
    "limit": 10,
    "page": 1,
    "count": 5
  },
  "results": [
    {
      "name": "https_testcollection",
      "version": "001",
      "createdAt": 1537830419369,
      "granuleId": "^.*$",
      "sampleFileName": "20170603090000-JPL-L4_GHRSST-SSTfnd-MUR-GLOB-v02.0-fv04.1.nc",
      "dataType": "L4_GHRSST-SSTfnd-MUR-GLOB",
      "files": [
        {
          "bucket": "internal",
          "regex": ".*.nc$",
          "sampleFileName": "20170603090000-JPL-L4_GHRSST-SSTfnd-MUR-GLOB-v02.0-fv04.1.nc"
        },
        {
          "bucket": "internal",
          "regex": ".*.nc.md5$",
          "sampleFileName": "20170603090000-JPL-L4_GHRSST-SSTfnd-MUR-GLOB-v02.0-fv04.1.nc.md5"
        }
      ],
      "granuleIdExtraction": "^(.*)\\.(nc|nc\\.md5)$",
      "duplicateHandling": "replace",
      "updatedAt": 1537830419369
    },
    {
      "name": "MOD09GQ",
      "version": "006",
      "process": "modis",
      "sampleFileName": "MOD09GQ.A2017025.h21v00.006.2017034065104.hdf",
      "dataType": "MOD09GQ",
      "granuleIdExtraction": "(MOD09GQ\\..*)(\\.hdf|\\.cmr|_ndvi\\.jpg)",
      "createdAt": 1537830419503,
      "granuleId": "^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}$",
      "files": [
        {
          "bucket": "protected",
          "regex": "^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf$",
          "sampleFileName": "MOD09GQ.A2017025.h21v00.006.2017034065104.hdf",
          "url_path": "{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}"
        },
        {
          "bucket": "private",
          "regex": "^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.hdf\\.met$",
          "sampleFileName": "MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met"
        },
        {
          "bucket": "protected-2",
          "regex": "^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}\\.cmr\\.xml$",
          "sampleFileName": "MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml"
        },
        {
          "bucket": "public",
          "regex": "^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006\\.[\\d]{13}_ndvi\\.jpg$",
          "sampleFileName": "MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg"
        }
      ],
      "duplicateHandling": "replace",
      "updatedAt": 1537830419503,
      "url_path": "{cmrMetadata.Granule.Collection.ShortName}___{cmrMetadata.Granule.Collection.VersionId}/{substring(file.name, 0, 3)}"
    },
    {
      "name": "http_testcollection",
      "version": "001",
      "createdAt": 1537830419471,
      "granuleId": "^.*$",
      "sampleFileName": "20170603090000-JPL-L4_GHRSST-SSTfnd-MUR-GLOB-v02.0-fv04.1.nc",
      "dataType": "L4_GHRSST-SSTfnd-MUR-GLOB",
      "files": [
        {
          "bucket": "internal",
          "regex": ".*.nc$",
          "sampleFileName": "20170603090000-JPL-L4_GHRSST-SSTfnd-MUR-GLOB-v02.0-fv04.1.nc"
        },
        {
          "bucket": "internal",
          "regex": ".*.nc.md5$",
          "sampleFileName": "20170603090000-JPL-L4_GHRSST-SSTfnd-MUR-GLOB-v02.0-fv04.1.nc.md5"
        }
      ],
      "granuleIdExtraction": "^(.*)\\.(nc|nc\\.md5)$",
      "duplicateHandling": "replace",
      "updatedAt": 1537830419471
    },
    {
      "name": "L2_HR_PIXC",
      "version": "000",
      "createdAt": 1537830419272,
      "granuleId": "^.*$",
      "sampleFileName": "L2_HR_PIXC_product_0001-of-4154.h5",
      "dataType": "L2_HR_PIXC",
      "files": [
        {
          "bucket": "private",
          "regex": ".*.h5$",
          "sampleFileName": "L2_HR_PIXC_product_0001-of-4154.h5"
        }
      ],
      "granuleIdExtraction": "^(.*)(\\.h5|\\.cmr)",
      "duplicateHandling": "replace",
      "updatedAt": 1537830419272
    },
    {
      "name": "MOD09GK",
      "version": "006",
      "process": "modis",
      "sampleFileName": "MOD09GQ.A2017025.h21v00.006.2017034065104.hdf",
      "dataType": "MOD09GQ",
      "granuleIdExtraction": "(MOD09GQ\\..*)(\\.hdf|\\.cmr|_ndvi\\.jpg)",
      "createdAt": 1528996960585,
      "granuleId": "^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006.[\\d]{13}$",
      "files": [
        {
          "bucket": "protected",
          "regex": "^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006.[\\d]{13}\\.hdf$",
          "sampleFileName": "MOD09GQ.A2017025.h21v00.006.2017034065104.hdf",
          "url_path": "{cmrMetadata.Granule.Collection.ShortName}/{extractYear(cmrMetadata.Granule.Temporal.RangeDateTime.BeginningDateTime)}/{substring(file.name, 0, 3)}"
        },
        {
          "bucket": "private",
          "regex": "^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006.[\\d]{13}\\.hdf\\.met$",
          "sampleFileName": "MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met"
        },
        {
          "bucket": "protected-2",
          "regex": "^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006.[\\d]{13}\\.cmr\\.xml$",
          "sampleFileName": "MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml"
        },
        {
          "bucket": "public",
          "regex": "^MOD09GQ\\.A[\\d]{7}\\.[\\S]{6}\\.006.[\\d]{13}_ndvi\\.jpg$",
          "sampleFileName": "MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg"
        }
      ],
      "duplicateHandling": "replace",
      "updatedAt": 1528996960585,
      "url_path": "{cmrMetadata.Granule.Collection.ShortName}/{substring(file.name, 0, 3)}"
    },
    {
      "duplicateHandling": "replace",
      "files": [
          {
              "bucket": "protected",
              "regex": "^test_[0-9]{8}_[0-9]{6}_metopa_[0-9]{5}_eps_o_coa_[0-9]{4}_ovw\\.l2\\.nc$",
              "sampleFileName": "test_20100818_002101_metopa_19866_eps_o_coa_1100_ovw.l2.nc",
              "type": "data"
          },
          {
              "bucket": "public",
              "regex": "^test_[0-9]{8}_[0-9]{6}_metopa_[0-9]{5}_eps_o_coa_[0-9]{4}_ovw\\.l2\\.cmr\\.json$",
              "sampleFileName": "test_20100818_002101_metopa_19866_eps_o_coa_1100_ovw.l2.cmr.json",
              "type": "metadata"
          },
          {
              "bucket": "protected",
              "regex": "^test_[0-9]{8}_[0-9]{6}_metopa_[0-9]{5}_eps_o_coa_[0-9]{4}_ovw\\.l2\\.nc\\.dmrpp$",
              "sampleFileName": "test_20100818_002101_metopa_19866_eps_o_coa_1100_ovw.l2.nc.dmrpp",
              "type": "metadata"
          }
      ],
      "granuleId": "^test_[0-9]{8}_[0-9]{6}_metopa_[0-9]{5}_eps_o_coa_[0-9]{4}_ovw\\.l2$",
      "granuleIdExtraction": "^(test_[0-9]{8}_[0-9]{6}_metopa_[0-9]{5}_eps_o_coa_[0-9]{4}_ovw\\.l2)(\\.tar\\.gz)?((\\.nc)|(\\.cmr\\.json)|(\\.nc\\.dmrpp))?$",
      "meta": {
          "glacier-bucket": "test-cumulus-glacier",
          "granuleRecoveryWorkflow": "DrRecoveryWorkflow",
          "required-files": [
              "^test_[0-9]{8}_[0-9]{6}_metopa_[0-9]{5}_eps_o_coa_[0-9]{4}_ovw\\.l2\\.nc$"
          ],
          "response-endpoint": [
              "arn:aws:sns:us-west-2:12345:test-cumulus-provider-response-sns",
              "arn:aws:sns:us-west-2:12345:ops-cumulus-response-topic"
          ],
          "workflowChoice": {
              "compressed": true,
              "convertNetCDF": true,
              "dmrpp": true,
              "glacier": true,
              "readDataFileForMetadata": true
          }
      },
      "name": "Test-L2-Coastal",
      "sampleFileName": "test_20100818_002101_metopa_19866_eps_o_coa_1100_ovw.l2.nc",
      "url_path": "{cmrMetadata.CollectionReference.ShortName}",
      "version": "Operational/Near-Real-Time"
    }
    
  ]
}
